---
import type { Metadata, ContentSchema } from '@repo/schema'
import { ContentAPI } from '@repo/api'
import CMSList from '@/components/CMSList.astro'

export const prerender = false

const page = Number(Astro.url.searchParams.get('page') || '1')
const response = await ContentAPI.list<{
  testimonies: ContentSchema.Content[]
  metadata: Metadata
}>({ slug: 'victim-testimonies', filters: { page, lang: 'ua' } })
---

<CMSList
  title="Свідчення очевидців трагедії"
  description="Свідчення очевидців трагедії"
  slug="holocaust/testimonies"
  list={response.testimonies}
  metadata={response.metadata}
/>
